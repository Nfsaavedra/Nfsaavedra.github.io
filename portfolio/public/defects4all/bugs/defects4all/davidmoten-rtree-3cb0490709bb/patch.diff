diff --git a/.travis.yml b/.travis.yml
index 0ff3ee2..0fb56a1 100644
--- a/.travis.yml
+++ b/.travis.yml
@@ -1,10 +1,6 @@
 language: java
-dist: precise
 jdk:
-  - oraclejdk8
-  - oraclejdk7
-  - openjdk7
-  - openjdk6
+  - openjdk8
 
 # Workaround for buffer overflow with openjdk6
 # https://github.com/travis-ci/travis-ci/issues/5227
diff --git a/pom.xml b/pom.xml
index dff449f..3d8b641 100644
--- a/pom.xml
+++ b/pom.xml
@@ -160,6 +160,13 @@
             <optional>true</optional>
         </dependency>
 
+        <dependency>
+            <groupId>javax.annotation</groupId>
+            <artifactId>javax.annotation-api</artifactId>
+            <version>1.3.2</version>
+            <optional>true</optional>
+        </dependency>
+
     </dependencies>
 
     <profiles>
diff --git a/src/main/java/com/github/davidmoten/rtree/internal/RectangleUtil.java b/src/main/java/com/github/davidmoten/rtree/internal/RectangleUtil.java
index 597792f..421179b 100644
--- a/src/main/java/com/github/davidmoten/rtree/internal/RectangleUtil.java
+++ b/src/main/java/com/github/davidmoten/rtree/internal/RectangleUtil.java
@@ -1,5 +1,7 @@
 package com.github.davidmoten.rtree.internal;
 
+import java.awt.geom.Line2D;
+
 public final class RectangleUtil {
 
     private RectangleUtil() {
@@ -37,8 +39,14 @@ public final class RectangleUtil {
      * @since 1.2
      */
     public static final int OUT_BOTTOM = 8;
-
-    public static boolean rectangleIntersectsLine(double rectX, double rectY, double rectWidth,
+    
+    public static boolean rectangleIntersectsLine(double rectX, double rectY, double rectWidth, double rectHeight,
+            double x1, double y1, double x2, double y2) {
+        return _rectangleIntersectsLine(rectX, rectY, rectWidth, rectHeight, x1, y1, x2, y2)
+                || Line2D.Double.linesIntersect(rectX, rectY, rectX + rectWidth, rectY + rectHeight, x1, y1, x2, y2);
+    }
+    
+    private static boolean _rectangleIntersectsLine(double rectX, double rectY, double rectWidth,
             double rectHeight, double x1, double y1, double x2, double y2) {
         if (rectangleCornerOnSegment(rectX, rectY, rectWidth, rectHeight, x1, y1, x2, y2)) {
             return true;
