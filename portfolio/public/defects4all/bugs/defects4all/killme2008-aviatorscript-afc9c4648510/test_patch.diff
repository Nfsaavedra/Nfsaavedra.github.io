diff --git a/src/test/java/com/googlecode/aviator/LambdaUnitTest.java b/src/test/java/com/googlecode/aviator/LambdaUnitTest.java
index a68b777..3d26850 100644
--- a/src/test/java/com/googlecode/aviator/LambdaUnitTest.java
+++ b/src/test/java/com/googlecode/aviator/LambdaUnitTest.java
@@ -57,6 +57,18 @@ public class LambdaUnitTest {
     assertEquals(19, AviatorEvaluator.execute("test(4)(5)(6) + a", env));
   }
 
+  @Test(expected = ExpressionRuntimeException.class)
+  public void testIssue101() {
+    String exp = "a=1; b = lambda(x) -> a+ x end ; a=4 ; b(5)";
+    AviatorEvaluator.execute(exp); // output 6
+  }
+
+  @Test
+  public void testIssue101_assignment() {
+    String exp = "a=1; c=a; b = lambda(x) -> a+ x end ; c=4 ; b(5)";
+    assertEquals(6, AviatorEvaluator.execute(exp));
+  }
+
   public static class Foo {
     private int a;
 
diff --git a/src/test/java/com/googlecode/aviator/example/LambdaExample.java b/src/test/java/com/googlecode/aviator/example/LambdaExample.java
index 0b8a18f..0afc401 100644
--- a/src/test/java/com/googlecode/aviator/example/LambdaExample.java
+++ b/src/test/java/com/googlecode/aviator/example/LambdaExample.java
@@ -1,14 +1,27 @@
 package com.googlecode.aviator.example;
 
+import java.util.HashMap;
+import java.util.Map;
 import com.googlecode.aviator.AviatorEvaluator;
 
 public class LambdaExample {
 
   public static void main(String[] args) {
 
-    String exp = "a=1; b = lambda(x) -> a+ x end ; a=4 ; b(5)";
+    String exp = "a=1; b = lambda(x) -> a+ x end ; b(5)";
     System.out.println(AviatorEvaluator.execute(exp)); // output 6
 
 
+    Map<String, Object> env = new HashMap<String, Object>();
+    env.put("x", 1);
+    env.put("y", 2);
+    env.put("z", 3);
+
+    AviatorEvaluator.defineFunction("test",
+        "lambda(x) -> lambda(y) -> lambda(z) -> x + y + z end end end");
+    System.out.println(AviatorEvaluator.execute("test(4)(5)(6)", env)); // output 15
+
+    env.put("a", 4);
+    System.out.println(AviatorEvaluator.execute("test(4)(5)(6) + a", env)); // output 19
   }
 }
